<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #firstDiv {
            border: gainsboro 2px solid;
            height: 55px;
            position: relative;
        }

        ul {
            position: absolute;
            list-style: none;
            top: 15px;
            left: 10px;
            margin: 0;
            padding: 0;
        }

        li {
            position: relative;
            float: left;
            margin-right: 20px;
        }
    </style>
</head>

<body>
    <fieldset style="width: 500px;">
        <legend style="color: red;">网页换肤</legend>
        <div id="firstDiv">
            <ul>
                <li id="button1" style="background-color: gainsboro;width: 20px;height: 30px;" onclick="Up1()"
                    title="深沉灰色"></li>
                <li id="button2" style="background-color: coral;width: 20px;height: 30px;" onclick="Up2()" title="橘子橙色">
                </li>
                <li id="button3" style="background-color: blue;width: 20px;height: 30px;" onclick="Up3()" title="天空蓝色">
                </li>
                <li id="button4" style="background-color: pink;width: 20px;height: 30px;" onclick="Up4()" title="少女粉色">
                </li>
                <li id="button5" style="background-color: greenyellow;width: 20px;height: 30px;" onclick="Up5()"
                    title="青草绿色"></li>
                <li id="button6" style="background-color: purple;width: 20px;height: 30px;" onclick="Up6()"
                    title="葡萄紫色"></li>
            </ul>
        </div>

        <div id="secondDiv">
            <p>LocalStorage将数据保存在客户端本地的硬件设备中，即使浏览器被关闭了，该数据依然存在，下次打开浏览器访问网站时仍然可以继续使用</p>
        </div>
    </fieldset>
</body>
<script>
    var lis = document.getElementsByTagName("li");
    var text = document.getElementById("secondDiv");
    var color;
    var storage = window.localStorage;
    window.onload = function () {
        var colorStart = storage.getItem("colorKey")
        text.style.backgroundColor = colorStart;
        console.log(storage.getItem("colorKey"));
        if (colorStart === "gainsboro"||colorStart==null) {
            Up1();
        }
        else if (colorStart === "coral") {
            Up2();
        }
        else if (colorStart === "blue") {
            Up3();
        }
        else if (colorStart === "pink") {
            Up4();
        }
        else if (colorStart === "greenyellow") {
            Up5();
        }
        else if (colorStart === "purple") {
            Up6();
        }
    }
    function Up1() {
        var li = document.getElementById("button1");
        for (var i = 0; i < lis.length; i++) {
            lis[i].style.top = "0px";
        }
        li.style.top = "-10px";
        color = li.style.backgroundColor;
        storage.setItem("colorKey", color);
        text.style.backgroundColor = storage.getItem("colorKey");
        console.log(storage.getItem("colorKey"));
    }
    function Up2() {
        var li = document.getElementById("button2");
        for (var i = 0; i < lis.length; i++) {
            lis[i].style.top = "0px";
        }
        li.style.top = "-10px";
        color = li.style.backgroundColor;
        storage.setItem("colorKey", color);
        text.style.backgroundColor = storage.getItem("colorKey");
    }
    function Up3() {
        var li = document.getElementById("button3");
        for (var i = 0; i < lis.length; i++) {
            lis[i].style.top = "0px";
        }
        li.style.top = "-10px";
        color = li.style.backgroundColor;
        storage.setItem("colorKey", color);
        text.style.backgroundColor = storage.getItem("colorKey");
    }
    function Up4() {
        var li = document.getElementById("button4");
        for (var i = 0; i < lis.length; i++) {
            lis[i].style.top = "0px";
        }
        li.style.top = "-10px";
        color = li.style.backgroundColor;
        storage.setItem("colorKey", color);
        text.style.backgroundColor = storage.getItem("colorKey");
    }
    function Up5() {
        var li = document.getElementById("button5");
        for (var i = 0; i < lis.length; i++) {
            lis[i].style.top = "0px";
        }
        li.style.top = "-10px";
        color = li.style.backgroundColor;
        storage.setItem("colorKey", color);
        text.style.backgroundColor = storage.getItem("colorKey");
    }
    function Up6() {
        var li = document.getElementById("button6");
        for (var i = 0; i < lis.length; i++) {
            lis[i].style.top = "0px";
        }
        li.style.top = "-10px";
        color = li.style.backgroundColor;
        storage.setItem("colorKey", color);
        text.style.backgroundColor = storage.getItem("colorKey");
    }
</script>

</html>